{% extends 'base.html' %}
{% block title %}- Home{% endblock %}

{% block morescripts %}
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
{% block morestylesheets %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content%}
    <section id="site-description">
        <h1>AnimAuth</h1>
        <p>Your everyday image hosting site. Definitely no weird auth shenanigans here :3</p>
        <p>PS: All uploads are <strong>publicly viewable</strong> and attributable to the uploader. Don't upload bad stuff :(</p>
        <p class="site-note">Maximum upload size: 32MB per image. I'm broke...</p>
    </section>

    <div id="previews">
        <h1>Image Previews</h1>
        {% if images %}
            <div class="preview-grid">
                {% for image in images %}
                    <div class="item">
                        <a href="{{ url_for('images', filename=image.filename) }}">
                            <h2 class="image-title">{{ image.title }}</h2>
                            <a href="{{ url_for('user_profile', id=image.author_id) }}">
                                <h3 class="image-author">Uploaded by: {{ image.author }}</h3>
                            </a>
                            <a href="{{ url_for('images', filename=image.filename) }}">
                                <p class="image-description">{{ image.description[:70] + '..' if image.description|length > 68 else image.description }}</p>
                                <img src="{{ url_for('static', filename="media/uploads/" + image.filename) }}" alt="{{ image.title }}" class="gallery-image"/>
                            </a>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>No images available.</p>
        {% endif %}
    </div>
{% endblock %}
